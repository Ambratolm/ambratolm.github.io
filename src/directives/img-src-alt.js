//====================================================================================================
// @ Image Source Alternative
//----------------------------------------------------------------------------------------------------
// 		Display an alternative fallback image.
//====================================================================================================
import { getImages } from "@/core/assets";

//----------------------------------------------------------------------------------------------------
// # Directive
//----------------------------------------------------------------------------------------------------
export default {
  beforeMount: SecureImageSrc,
  updated: SecureImageSrc,
};

//----------------------------------------------------------------------------------------------------
// # General Handling
//----------------------------------------------------------------------------------------------------
function SecureImageSrc(element) {
  const { error, empty } = getImages();
  element.onerror = () => (element.src = error);
  if (!element.src) element.src = empty;
}
